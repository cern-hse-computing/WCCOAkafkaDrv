<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1695px" preserveAspectRatio="none" style="width:1601px;height:1695px;" version="1.1" viewBox="0 0 1601 1695" width="1601px" zoomAndPan="magnify"><defs><filter height="300%" id="f1br0idg2dyk73" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="800.25" cy="20" fill="#000000" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><path d="M899.75,40 L899.75,63.6992 L879.75,67.6992 L899.75,71.6992 L899.75,95.3984 A0,0 0 0 0 899.75,95.3984 L1147.75,95.3984 A0,0 0 0 0 1147.75,95.3984 L1147.75,50 L1137.75,40 L899.75,40 A0,0 0 0 0 899.75,40 " fill="#FBFB77" filter="url(#f1br0idg2dyk73)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1137.75,40 L1137.75,50 L1147.75,50 L1137.75,40 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="905.75" y="57.0669">Reads all producer and consumer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="905.75" y="72.1997">configuration entries.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="905.75" y="87.3325">kafkaResources::readSection()</text><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="720.75" y="50.7148"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="30" x="730.75" y="71.8535">Read</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="764.75" y="71.8535">config.kafka</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="17" x="852.75" y="71.8535">file</text><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="716.75" y="115.3984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="143" x="726.75" y="136.5371">kafkaHWService::start()</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.75" x2="1437.75" y1="169.3672" y2="169.3672"/><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="196.25" y="237.7695"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="206.25" y="258.9082">Start Kafka Producer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="206.25" y="272.877">+ set callbacks</text><path d="M56.75,320.707 L56.75,345.8398 A0,0 0 0 0 56.75,345.8398 L238.75,345.8398 A0,0 0 0 0 238.75,345.8398 L238.75,338.707 L258.75,333.2734 L238.75,330.707 L238.75,330.707 L228.75,320.707 L56.75,320.707 A0,0 0 0 0 56.75,320.707 " fill="#FBFB77" filter="url(#f1br0idg2dyk73)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M228.75,320.707 L228.75,330.707 L238.75,330.707 L228.75,320.707 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="62.75" y="337.7739">kafkaProducerFacade</text><ellipse cx="268.75" cy="333.2734" fill="#FEFECE" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M267.6094,329.9922 L267.6094,333.2891 L269.0938,333.2891 Q269.9219,333.2891 270.375,332.8594 Q270.8281,332.4297 270.8281,331.6328 Q270.8281,330.8516 270.375,330.4219 Q269.9219,329.9922 269.0938,329.9922 L267.6094,329.9922 Z M266.4219,329.0234 L269.0938,329.0234 Q270.5781,329.0234 271.3281,329.6875 Q272.0781,330.3516 272.0781,331.6328 Q272.0781,332.9297 271.3281,333.5938 Q270.5781,334.2578 269.0938,334.2578 L267.6094,334.2578 L267.6094,337.7734 L266.4219,337.7734 L266.4219,329.0234 Z "/><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="61.9063" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="154.75" y="380.8398"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="208" x="164.75" y="401.9785">start AsynchronousTask for polling</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="172" x="164.75" y="415.9473">kafkaHWService::doPoll()</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="208" x="164.75" y="429.916">This will trigger producer statistics</text><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="306" x="115.75" y="477.7461"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="286" x="125.75" y="498.8848">start AsynchronousTask for stream debouncing</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="197" x="125.75" y="512.8535">kafkaHWService::doStream()</text><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="193.75,189.3672,343.75,189.3672,355.75,201.3672,343.75,213.3672,193.75,213.3672,181.75,201.3672,193.75,189.3672" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="272.75" y="223.5776">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="193.75" y="205.1753">Producer config available?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="355.75" y="198.7729">no</text><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="268.75,545.6836,280.75,557.6836,268.75,569.6836,256.75,557.6836,268.75,545.6836" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M471.75,271.043 L471.75,311.3086 A0,0 0 0 0 471.75,311.3086 L698.75,311.3086 A0,0 0 0 0 698.75,311.3086 L698.75,295.1758 L718.75,291.1758 L698.75,287.1758 L698.75,281.043 L688.75,271.043 L471.75,271.043 A0,0 0 0 0 471.75,271.043 " fill="#FBFB77" filter="url(#f1br0idg2dyk73)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M688.75,271.043 L688.75,281.043 L698.75,281.043 L688.75,271.043 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="130" x="477.75" y="288.1099">kafkaHWService::</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="477.75" y="303.2427">handleNewConsumerTopic()</text><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="259" x="718.75" y="267.207"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="230" x="728.75" y="288.3457">For each topic addressed in the driver</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="239" x="728.75" y="302.3145">launch a consumer thread (+callbacks)</text><rect fill="#000000" filter="url(#f1br0idg2dyk73)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="537" x="579.75" y="350.1445"/><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="593.75" y="378.7109"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="603.75" y="399.8496">Consumer 1</text><ellipse cx="640.25" cy="457.6797" fill="#FEFECE" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M642.9844,454.1016 L642.9844,455.3516 Q642.375,454.7891 641.7031,454.5156 Q641.0313,454.2422 640.2656,454.2422 Q638.7656,454.2422 637.9688,455.1641 Q637.1719,456.0859 637.1719,457.8203 Q637.1719,459.5391 637.9688,460.4609 Q638.7656,461.3828 640.2656,461.3828 Q641.0313,461.3828 641.7031,461.1016 Q642.375,460.8203 642.9844,460.2734 L642.9844,461.5078 Q642.3594,461.9297 641.6641,462.1406 Q640.9688,462.3516 640.2031,462.3516 Q638.2031,462.3516 637.0625,461.1328 Q635.9219,459.9141 635.9219,457.8203 Q635.9219,455.7109 637.0625,454.4922 Q638.2031,453.2734 640.2031,453.2734 Q640.9844,453.2734 641.6797,453.4844 Q642.375,453.6953 642.9844,454.1016 Z "/><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="714.75" y="378.7109"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="724.75" y="399.8496">Consumer 2</text><ellipse cx="761.25" cy="457.6797" fill="#FEFECE" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M763.9844,454.1016 L763.9844,455.3516 Q763.375,454.7891 762.7031,454.5156 Q762.0313,454.2422 761.2656,454.2422 Q759.7656,454.2422 758.9688,455.1641 Q758.1719,456.0859 758.1719,457.8203 Q758.1719,459.5391 758.9688,460.4609 Q759.7656,461.3828 761.2656,461.3828 Q762.0313,461.3828 762.7031,461.1016 Q763.375,460.8203 763.9844,460.2734 L763.9844,461.5078 Q763.3594,461.9297 762.6641,462.1406 Q761.9688,462.3516 761.2031,462.3516 Q759.2031,462.3516 758.0625,461.1328 Q756.9219,459.9141 756.9219,457.8203 Q756.9219,455.7109 758.0625,454.4922 Q759.2031,453.2734 761.2031,453.2734 Q761.9844,453.2734 762.6797,453.4844 Q763.375,453.6953 763.9844,454.1016 Z "/><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="835.75" y="376.1445"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="845.75" y="397.2832">Consumer N</text><path d="M912.75,445.1133 L912.75,453.6797 L892.75,457.6797 L912.75,461.6797 L912.75,470.2461 A0,0 0 0 0 912.75,470.2461 L1102.75,470.2461 A0,0 0 0 0 1102.75,470.2461 L1102.75,455.1133 L1092.75,445.1133 L912.75,445.1133 A0,0 0 0 0 912.75,445.1133 " fill="#FBFB77" filter="url(#f1br0idg2dyk73)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1092.75,445.1133 L1092.75,455.1133 L1102.75,455.1133 L1092.75,445.1133 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="169" x="918.75" y="462.1802">kafkaConsumerFacade</text><ellipse cx="882.75" cy="457.6797" fill="#FEFECE" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M885.4844,454.1016 L885.4844,455.3516 Q884.875,454.7891 884.2031,454.5156 Q883.5313,454.2422 882.7656,454.2422 Q881.2656,454.2422 880.4688,455.1641 Q879.6719,456.0859 879.6719,457.8203 Q879.6719,459.5391 880.4688,460.4609 Q881.2656,461.3828 882.7656,461.3828 Q883.5313,461.3828 884.2031,461.1016 Q884.875,460.8203 885.4844,460.2734 L885.4844,461.5078 Q884.8594,461.9297 884.1641,462.1406 Q883.4688,462.3516 882.7031,462.3516 Q880.7031,462.3516 879.5625,461.1328 Q878.4219,459.9141 878.4219,457.8203 Q878.4219,455.7109 879.5625,454.4922 Q880.7031,453.2734 882.7031,453.2734 Q883.4844,453.2734 884.1797,453.4844 Q884.875,453.6953 885.4844,454.1016 Z "/><rect fill="#000000" filter="url(#f1br0idg2dyk73)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="537" x="579.75" y="490.2461"/><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="1321.75" y="320.125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="212" x="1331.75" y="341.2637">callback for new consumer threads</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="212" x="1331.75" y="355.2324">whenever a new topic is addressed</text><path d="M1144.75,403.0625 L1144.75,443.3281 A0,0 0 0 0 1144.75,443.3281 L1407.75,443.3281 A0,0 0 0 0 1407.75,443.3281 L1407.75,427.1953 L1427.75,423.1953 L1407.75,419.1953 L1407.75,413.0625 L1397.75,403.0625 L1144.75,403.0625 A0,0 0 0 0 1144.75,403.0625 " fill="#FBFB77" filter="url(#f1br0idg2dyk73)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1397.75,403.0625 L1397.75,413.0625 L1407.75,413.0625 L1397.75,403.0625 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="1150.75" y="420.1294">kafkaHWMapper::</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="242" x="1150.75" y="435.2622">setNewConsumerTopicCallback()</text><ellipse cx="1437.75" cy="423.1953" fill="#FEFECE" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M1440.4844,419.6172 L1440.4844,420.8672 Q1439.875,420.3047 1439.2031,420.0313 Q1438.5313,419.7578 1437.7656,419.7578 Q1436.2656,419.7578 1435.4688,420.6797 Q1434.6719,421.6016 1434.6719,423.3359 Q1434.6719,425.0547 1435.4688,425.9766 Q1436.2656,426.8984 1437.7656,426.8984 Q1438.5313,426.8984 1439.2031,426.6172 Q1439.875,426.3359 1440.4844,425.7891 L1440.4844,427.0234 Q1439.8594,427.4453 1439.1641,427.6563 Q1438.4688,427.8672 1437.7031,427.8672 Q1435.7031,427.8672 1434.5625,426.6484 Q1433.4219,425.4297 1433.4219,423.3359 Q1433.4219,421.2266 1434.5625,420.0078 Q1435.7031,418.7891 1437.7031,418.7891 Q1438.4844,418.7891 1439.1797,419 Q1439.875,419.2109 1440.4844,419.6172 Z "/><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.75" x2="848.25" y1="589.6836" y2="589.6836"/><rect fill="#000000" filter="url(#f1br0idg2dyk73)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="1580.5" x="10" y="609.6836"/><rect fill="#FFFFFF" filter="url(#f1br0idg2dyk73)" height="1001.6089" style="stroke: #000000; stroke-width: 2.0;" width="936" x="24" y="626.4854"/><path d="M240,627.4854 L240,635.7822 L230,645.7822 L24,645.7822 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="206" x="27" y="640.4805">kafkaHWService::writeData()</text><ellipse cx="492" cy="672.7822" fill="#000000" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="390" y="717.7822"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="184" x="400" y="738.9209">Decode HWObject from WinCC</text><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="247.5,800.6064,373.5,800.6064,385.5,812.6064,373.5,824.6064,247.5,824.6064,235.5,812.6064,247.5,800.6064" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="247.5" y="816.4146">object is Kafka stream</text><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="214.5" y="893.0088"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="224.5" y="914.1475">add stream to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="313.5" y="914.1475">_streamMap</text><rect fill="#000000" filter="url(#f1br0idg2dyk73)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="533" x="44" y="959.3013"/><rect fill="#FFFFFF" filter="url(#f1br0idg2dyk73)" height="468.5039" style="stroke: #000000; stroke-width: 2.0;" width="505" x="58" y="985.3013"/><path d="M374,986.3013 L374,994.5981 L364,1004.5981 L58,1004.5981 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="306" x="61" y="999.2964">&lt;AsyncTask&gt;kafkaHWService::doStream()</text><ellipse cx="344.5" cy="1031.5981" fill="#000000" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="293.5" y="1135.7231"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="303.5" y="1156.8618">retrieve entry</text><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="229,1196.6919,460,1196.6919,472,1208.6919,460,1220.6919,229,1220.6919,217,1208.6919,229,1196.6919" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="229" y="1212.5">debouncing timeframe is over for entry?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="197" y="1206.0977">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="472" y="1206.0977">no</text><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="210" x="102" y="1230.6919"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="190" x="112" y="1251.8306">remove entry from _streamMap</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="112" y="1265.7993">and stream to kafka</text><ellipse cx="207" cy="1312.9185" fill="#FEFECE" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M205.8594,1309.6372 L205.8594,1312.9341 L207.3438,1312.9341 Q208.1719,1312.9341 208.625,1312.5044 Q209.0781,1312.0747 209.0781,1311.2778 Q209.0781,1310.4966 208.625,1310.0669 Q208.1719,1309.6372 207.3438,1309.6372 L205.8594,1309.6372 Z M204.6719,1308.6685 L207.3438,1308.6685 Q208.8281,1308.6685 209.5781,1309.3325 Q210.3281,1309.9966 210.3281,1311.2778 Q210.3281,1312.5747 209.5781,1313.2388 Q208.8281,1313.9028 207.3438,1313.9028 L205.8594,1313.9028 L205.8594,1317.4185 L204.6719,1317.4185 L204.6719,1308.6685 Z "/><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="442" y="1230.6919"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="452" y="1251.8306">skip entry</text><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="344.5,1328.9185,356.5,1340.9185,344.5,1352.9185,332.5,1340.9185,344.5,1328.9185" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="254,1076.5981,435,1076.5981,447,1088.5981,435,1100.5981,254,1100.5981,242,1088.5981,254,1076.5981" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="348.5" y="1110.8086">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="254" y="1092.4063">_streamMap entries to process?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="228" y="1086.0039">no</text><ellipse cx="344.5" cy="1422.9185" fill="#FFFFFF" filter="url(#f1br0idg2dyk73)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="344.5" cy="1422.9185" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><rect fill="#000000" filter="url(#f1br0idg2dyk73)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="533" x="44" y="1473.8052"/><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="231.5,844.6064,389.5,844.6064,401.5,856.6064,389.5,868.6064,231.5,868.6064,219.5,856.6064,231.5,844.6064" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="314.5" y="878.8169">yes, it's bigger than 0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="231.5" y="860.4146">debouncing timeframe &gt; 0?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="401.5" y="854.0122">no, stream to kafka</text><ellipse cx="532.5" cy="856.6064" fill="#FEFECE" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M531.3594,853.3252 L531.3594,856.6221 L532.8438,856.6221 Q533.6719,856.6221 534.125,856.1924 Q534.5781,855.7627 534.5781,854.9658 Q534.5781,854.1846 534.125,853.7549 Q533.6719,853.3252 532.8438,853.3252 L531.3594,853.3252 Z M530.1719,852.3564 L532.8438,852.3564 Q534.3281,852.3564 535.0781,853.0205 Q535.8281,853.6846 535.8281,854.9658 Q535.8281,856.2627 535.0781,856.9268 Q534.3281,857.5908 532.8438,857.5908 L531.3594,857.5908 L531.3594,861.1064 L530.1719,861.1064 L530.1719,852.3564 Z "/><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="772,800.6064,888,800.6064,900,812.6064,888,824.6064,772,824.6064,760,812.6064,772,800.6064" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="772" y="816.4146">object is Config item</text><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="782.5" y="844.6064"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="792.5" y="865.7451">Apply config</text><ellipse cx="492" cy="1605.0942" fill="#FFFFFF" filter="url(#f1br0idg2dyk73)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="492" cy="1605.0942" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#f1br0idg2dyk73)" height="491.4448" style="stroke: #000000; stroke-width: 2.0;" width="588.5" x="988" y="691.5986"/><path d="M1131,692.5986 L1131,700.8955 L1121,710.8955 L988,710.8955 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="991" y="705.5938">ConsumerThread{</text><ellipse cx="1155" cy="737.8955" fill="#000000" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><path d="M1185,832.5557 L1185,841.1221 L1165,845.1221 L1185,849.1221 L1185,857.6885 A0,0 0 0 0 1185,857.6885 L1418,857.6885 A0,0 0 0 0 1418,857.6885 L1418,842.5557 L1408,832.5557 L1185,832.5557 A0,0 0 0 0 1185,832.5557 " fill="#FBFB77" filter="url(#f1br0idg2dyk73)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1408,832.5557 L1408,842.5557 L1418,842.5557 L1408,832.5557 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="212" x="1191" y="849.6226">kafkaConsumerFacade.poll()</text><ellipse cx="1155" cy="845.1221" fill="#FEFECE" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M1157.7344,841.5439 L1157.7344,842.7939 Q1157.125,842.2314 1156.4531,841.958 Q1155.7813,841.6846 1155.0156,841.6846 Q1153.5156,841.6846 1152.7188,842.6064 Q1151.9219,843.5283 1151.9219,845.2627 Q1151.9219,846.9814 1152.7188,847.9033 Q1153.5156,848.8252 1155.0156,848.8252 Q1155.7813,848.8252 1156.4531,848.5439 Q1157.125,848.2627 1157.7344,847.7158 L1157.7344,848.9502 Q1157.1094,849.3721 1156.4141,849.583 Q1155.7188,849.7939 1154.9531,849.7939 Q1152.9531,849.7939 1151.8125,848.5752 Q1150.6719,847.3564 1150.6719,845.2627 Q1150.6719,843.1533 1151.8125,841.9346 Q1152.9531,840.7158 1154.9531,840.7158 Q1155.7344,840.7158 1156.4297,840.9268 Q1157.125,841.1377 1157.7344,841.5439 Z "/><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="218" x="1046" y="950.8169"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="1056" y="971.9556">kafkaHWService::</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="198" x="1056" y="985.9243">handleConsumeNewMessage</text><path d="M1261.5,1038.1724 L1261.5,1046.7388 L1241.5,1050.7388 L1261.5,1054.7388 L1261.5,1063.3052 A0,0 0 0 0 1261.5,1063.3052 L1542.5,1063.3052 A0,0 0 0 0 1542.5,1063.3052 L1542.5,1048.1724 L1532.5,1038.1724 L1261.5,1038.1724 A0,0 0 0 0 1261.5,1038.1724 " fill="#FBFB77" filter="url(#f1br0idg2dyk73)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1532.5,1038.1724 L1532.5,1048.1724 L1542.5,1048.1724 L1532.5,1038.1724 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="260" x="1267.5" y="1055.2393">kafkaHWService::insertInDataToDP</text><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="1068.5" y="1033.7544"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="1078.5" y="1054.8931">add DPE to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="1149.5" y="1054.8931">_toDPqueue</text><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="1073,892.6885,1237,892.6885,1249,904.6885,1237,916.6885,1073,916.6885,1061,904.6885,1073,892.6885" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="1159" y="926.8989">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="1073" y="908.4966">polled messages to process?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1047" y="902.0942">no</text><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="1110,771.751,1200,771.751,1212,783.751,1200,795.751,1110,795.751,1098,783.751,1110,771.751" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="1159" y="805.9614">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1110" y="787.5591">_consumerRun?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1084" y="781.1567">no</text><ellipse cx="1155" cy="1160.0435" fill="#FFFFFF" filter="url(#f1br0idg2dyk73)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="1155" cy="1160.0435" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#f1br0idg2dyk73)" height="356.0508" style="stroke: #000000; stroke-width: 2.0;" width="551.5" x="1020" y="1218.0435"/><path d="M1232,1219.0435 L1232,1227.3403 L1222,1237.3403 L1020,1237.3403 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="202" x="1023" y="1232.0386">kafkaHWService::workProc()</text><ellipse cx="1155" cy="1264.3403" fill="#000000" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><path d="M1261.5,1412.2544 L1261.5,1420.8208 L1241.5,1424.8208 L1261.5,1428.8208 L1261.5,1437.3872 A0,0 0 0 0 1261.5,1437.3872 L1518.5,1437.3872 A0,0 0 0 0 1518.5,1437.3872 L1518.5,1422.2544 L1508.5,1412.2544 L1261.5,1412.2544 A0,0 0 0 0 1261.5,1412.2544 " fill="#FBFB77" filter="url(#f1br0idg2dyk73)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1508.5,1412.2544 L1508.5,1422.2544 L1518.5,1422.2544 L1508.5,1412.2544 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="236" x="1267.5" y="1429.3213">DrvManager::getSelfPtr()-&gt;toDp</text><rect fill="#FEFECE" filter="url(#f1br0idg2dyk73)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="1068.5" y="1407.8364"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="153" x="1078.5" y="1428.9751">push DPE entry to WinCC</text><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="1071,1359.4341,1239,1359.4341,1251,1371.4341,1239,1383.4341,1071,1383.4341,1059,1371.4341,1071,1359.4341" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="1159" y="1393.6445">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="1071" y="1375.2422">item addressed in the driver?</text><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="1155,1466.0942,1167,1478.0942,1155,1490.0942,1143,1478.0942,1155,1466.0942" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1br0idg2dyk73)" points="1066,1298.6294,1244,1298.6294,1256,1310.6294,1244,1322.6294,1066,1322.6294,1054,1310.6294,1066,1298.6294" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="1159" y="1332.8398">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="1066" y="1314.4375">_toDPqueue</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="1144" y="1314.4375">items to process?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1040" y="1308.0352">no</text><ellipse cx="1155" cy="1543.0942" fill="#FFFFFF" filter="url(#f1br0idg2dyk73)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="1155" cy="1543.0942" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><rect fill="#000000" filter="url(#f1br0idg2dyk73)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="1580.5" x="10" y="1638.0942"/><ellipse cx="800.25" cy="1674.0942" fill="#FFFFFF" filter="url(#f1br0idg2dyk73)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="794.0628" x2="806.4372" y1="1667.9071" y2="1680.2814"/><line style="stroke: #000000; stroke-width: 2.5;" x1="806.4372" x2="794.0628" y1="1667.9071" y2="1680.2814"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="800.25" x2="800.25" y1="30" y2="50.7148"/><polygon fill="#A80036" points="796.25,40.7148,800.25,50.7148,804.25,40.7148,800.25,44.7148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="800.25" x2="800.25" y1="84.6836" y2="115.3984"/><polygon fill="#A80036" points="796.25,105.3984,800.25,115.3984,804.25,105.3984,800.25,109.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.75" x2="268.75" y1="285.707" y2="323.2734"/><polygon fill="#A80036" points="264.75,313.2734,268.75,323.2734,272.75,313.2734,268.75,317.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.75" x2="268.75" y1="343.2734" y2="380.8398"/><polygon fill="#A80036" points="264.75,370.8398,268.75,380.8398,272.75,370.8398,268.75,374.8398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.75" x2="268.75" y1="442.7461" y2="477.7461"/><polygon fill="#A80036" points="264.75,467.7461,268.75,477.7461,272.75,467.7461,268.75,471.7461" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.75" x2="268.75" y1="213.3672" y2="237.7695"/><polygon fill="#A80036" points="264.75,227.7695,268.75,237.7695,272.75,227.7695,268.75,231.7695" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="355.75" x2="431.75" y1="201.3672" y2="201.3672"/><polygon fill="#A80036" points="427.75,371.7266,431.75,381.7266,435.75,371.7266,431.75,375.7266" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="431.75" x2="431.75" y1="201.3672" y2="557.6836"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="431.75" x2="280.75" y1="557.6836" y2="557.6836"/><polygon fill="#A80036" points="290.75,553.6836,280.75,557.6836,290.75,561.6836,286.75,557.6836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.75" x2="268.75" y1="525.6836" y2="545.6836"/><polygon fill="#A80036" points="264.75,535.6836,268.75,545.6836,272.75,535.6836,268.75,539.6836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="640.25" x2="640.25" y1="412.6797" y2="447.6797"/><polygon fill="#A80036" points="636.25,437.6797,640.25,447.6797,644.25,437.6797,640.25,441.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="761.25" x2="761.25" y1="412.6797" y2="447.6797"/><polygon fill="#A80036" points="757.25,437.6797,761.25,447.6797,765.25,437.6797,761.25,441.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.5; stroke-dasharray: 1.0,3.0;" x1="882.75" x2="882.75" y1="410.1133" y2="447.6797"/><polygon fill="#000000" points="878.75,437.6797,882.75,447.6797,886.75,437.6797,882.75,441.6797" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="640.25" x2="640.25" y1="356.1445" y2="378.7109"/><polygon fill="#A80036" points="636.25,368.7109,640.25,378.7109,644.25,368.7109,640.25,372.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="761.25" x2="761.25" y1="356.1445" y2="378.7109"/><polygon fill="#A80036" points="757.25,368.7109,761.25,378.7109,765.25,368.7109,761.25,372.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.5; stroke-dasharray: 1.0,3.0;" x1="882.75" x2="882.75" y1="356.1445" y2="376.1445"/><polygon fill="#000000" points="878.75,366.1445,882.75,376.1445,886.75,366.1445,882.75,370.1445" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="848.25" x2="848.25" y1="315.1445" y2="350.1445"/><polygon fill="#A80036" points="844.25,340.1445,848.25,350.1445,852.25,340.1445,848.25,344.1445" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1437.75" x2="1437.75" y1="368.0625" y2="413.1953"/><polygon fill="#A80036" points="1433.75,403.1953,1437.75,413.1953,1441.75,403.1953,1437.75,407.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.75" x2="268.75" y1="170.8672" y2="189.3672"/><polygon fill="#A80036" points="264.75,179.3672,268.75,189.3672,272.75,179.3672,268.75,183.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="848.25" x2="848.25" y1="170.8672" y2="267.207"/><polygon fill="#A80036" points="844.25,257.207,848.25,267.207,852.25,257.207,848.25,261.207" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1437.75" x2="1437.75" y1="170.8672" y2="320.125"/><polygon fill="#A80036" points="1433.75,310.125,1437.75,320.125,1441.75,310.125,1437.75,314.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.75" x2="268.75" y1="569.6836" y2="589.6836"/><polygon fill="#A80036" points="264.75,579.6836,268.75,589.6836,272.75,579.6836,268.75,583.6836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="848.25" x2="848.25" y1="496.2461" y2="589.6836"/><polygon fill="#A80036" points="844.25,579.6836,848.25,589.6836,852.25,579.6836,848.25,583.6836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="800.25" x2="800.25" y1="149.3672" y2="169.3672"/><polygon fill="#A80036" points="796.25,159.3672,800.25,169.3672,804.25,159.3672,800.25,163.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="492" x2="492" y1="682.7822" y2="717.7822"/><polygon fill="#A80036" points="488,707.7822,492,717.7822,496,707.7822,492,711.7822" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="207" x2="207" y1="1278.6294" y2="1302.9185"/><polygon fill="#A80036" points="203,1292.9185,207,1302.9185,211,1292.9185,207,1296.9185" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="217" x2="207" y1="1208.6919" y2="1208.6919"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="207" x2="207" y1="1208.6919" y2="1230.6919"/><polygon fill="#A80036" points="203,1220.6919,207,1230.6919,211,1220.6919,207,1224.6919" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="472" x2="482" y1="1208.6919" y2="1208.6919"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="482" x2="482" y1="1208.6919" y2="1230.6919"/><polygon fill="#A80036" points="478,1220.6919,482,1230.6919,486,1220.6919,482,1224.6919" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="207" x2="207" y1="1322.9185" y2="1340.9185"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="207" x2="332.5" y1="1340.9185" y2="1340.9185"/><polygon fill="#A80036" points="322.5,1336.9185,332.5,1340.9185,322.5,1344.9185,326.5,1340.9185" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="482" x2="482" y1="1264.6606" y2="1340.9185"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="482" x2="356.5" y1="1340.9185" y2="1340.9185"/><polygon fill="#A80036" points="366.5,1336.9185,356.5,1340.9185,366.5,1344.9185,362.5,1340.9185" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344.5" x2="344.5" y1="1169.6919" y2="1196.6919"/><polygon fill="#A80036" points="340.5,1186.6919,344.5,1196.6919,348.5,1186.6919,344.5,1190.6919" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344.5" x2="344.5" y1="1100.5981" y2="1135.7231"/><polygon fill="#A80036" points="340.5,1125.7231,344.5,1135.7231,348.5,1125.7231,344.5,1129.7231" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344.5" x2="344.5" y1="1352.9185" y2="1364.9185"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344.5" x2="544" y1="1364.9185" y2="1364.9185"/><polygon fill="#A80036" points="540,1237.2739,544,1227.2739,548,1237.2739,544,1233.2739" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="544" x2="544" y1="1088.5981" y2="1364.9185"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="544" x2="447" y1="1088.5981" y2="1088.5981"/><polygon fill="#A80036" points="457,1084.5981,447,1088.5981,457,1092.5981,453,1088.5981" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="242" x2="80" y1="1088.5981" y2="1088.5981"/><polygon fill="#A80036" points="76,1223.2739,80,1233.2739,84,1223.2739,80,1227.2739" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="80" x2="80" y1="1088.5981" y2="1376.9185"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="80" x2="344.5" y1="1376.9185" y2="1376.9185"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344.5" x2="344.5" y1="1376.9185" y2="1411.9185"/><polygon fill="#A80036" points="340.5,1401.9185,344.5,1411.9185,348.5,1401.9185,344.5,1405.9185" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344.5" x2="344.5" y1="1041.5981" y2="1076.5981"/><polygon fill="#A80036" points="340.5,1066.5981,344.5,1076.5981,348.5,1066.5981,344.5,1070.5981" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344.5" x2="344.5" y1="965.3013" y2="1021.5981"/><polygon fill="#A80036" points="340.5,1011.5981,344.5,1021.5981,348.5,1011.5981,344.5,1015.5981" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310.5" x2="310.5" y1="926.9775" y2="959.3013"/><polygon fill="#A80036" points="306.5,949.3013,310.5,959.3013,314.5,949.3013,310.5,953.3013" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310.5" x2="310.5" y1="868.6064" y2="893.0088"/><polygon fill="#A80036" points="306.5,883.0088,310.5,893.0088,314.5,883.0088,310.5,887.0088" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="401.5" x2="522.5" y1="856.6064" y2="856.6064"/><polygon fill="#A80036" points="512.5,852.6064,522.5,856.6064,512.5,860.6064,516.5,856.6064" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310.5" x2="310.5" y1="1479.8052" y2="1562.2075"/><polygon fill="#A80036" points="306.5,1552.2075,310.5,1562.2075,314.5,1552.2075,310.5,1556.2075" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310.5" x2="310.5" y1="824.6064" y2="844.6064"/><polygon fill="#A80036" points="306.5,834.6064,310.5,844.6064,314.5,834.6064,310.5,838.6064" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="830" x2="830" y1="824.6064" y2="844.6064"/><polygon fill="#A80036" points="826,834.6064,830,844.6064,834,834.6064,830,838.6064" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="830" x2="830" y1="878.5752" y2="1562.2075"/><polygon fill="#A80036" points="826,1552.2075,830,1562.2075,834,1552.2075,830,1556.2075" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="385.5" x2="760" y1="812.6064" y2="812.6064"/><polygon fill="#A80036" points="750,808.6064,760,812.6064,750,816.6064,754,812.6064" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="492" x2="492" y1="751.751" y2="775.6064"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="492" x2="310.5" y1="775.6064" y2="775.6064"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310.5" x2="310.5" y1="775.6064" y2="800.6064"/><polygon fill="#A80036" points="306.5,790.6064,310.5,800.6064,314.5,790.6064,310.5,794.6064" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="900" x2="935" y1="812.6064" y2="812.6064"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="935" x2="935" y1="812.6064" y2="1562.2075"/><polygon fill="#A80036" points="931,1552.2075,935,1562.2075,939,1552.2075,935,1556.2075" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310.5" x2="935" y1="1562.2075" y2="1562.2075"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="492" x2="492" y1="1562.2075" y2="1594.0942"/><polygon fill="#A80036" points="488,1584.0942,492,1594.0942,496,1584.0942,492,1588.0942" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="998.7544" y2="1033.7544"/><polygon fill="#A80036" points="1151,1023.7544,1155,1033.7544,1159,1023.7544,1155,1027.7544" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="916.6885" y2="950.8169"/><polygon fill="#A80036" points="1151,940.8169,1155,950.8169,1159,940.8169,1155,944.8169" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="1067.7231" y2="1079.7231"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1554.5" y1="1079.7231" y2="1079.7231"/><polygon fill="#A80036" points="1550.5,1000.8677,1554.5,990.8677,1558.5,1000.8677,1554.5,996.8677" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1554.5" x2="1554.5" y1="904.6885" y2="1079.7231"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1554.5" x2="1249" y1="904.6885" y2="904.6885"/><polygon fill="#A80036" points="1259,900.6885,1249,904.6885,1259,908.6885,1255,904.6885" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1061" x2="1034" y1="904.6885" y2="904.6885"/><polygon fill="#A80036" points="1030,986.8677,1034,996.8677,1038,986.8677,1034,990.8677" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1034" x2="1034" y1="904.6885" y2="1091.7231"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1034" x2="1566.5" y1="1091.7231" y2="1091.7231"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1566.5" x2="1566.5" y1="783.751" y2="1091.7231"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1566.5" x2="1212" y1="783.751" y2="783.751"/><polygon fill="#A80036" points="1222,779.751,1212,783.751,1222,787.751,1218,783.751" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="855.1221" y2="892.6885"/><polygon fill="#A80036" points="1151,882.6885,1155,892.6885,1159,882.6885,1155,886.6885" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="795.751" y2="835.1221"/><polygon fill="#A80036" points="1151,825.1221,1155,835.1221,1159,825.1221,1155,829.1221" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1098" x2="1010" y1="783.751" y2="783.751"/><polygon fill="#A80036" points="1006,938.3989,1010,948.3989,1014,938.3989,1010,942.3989" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1010" x2="1010" y1="783.751" y2="1115.7231"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1010" x2="1155" y1="1115.7231" y2="1115.7231"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="1115.7231" y2="1149.0435"/><polygon fill="#A80036" points="1151,1139.0435,1155,1149.0435,1159,1139.0435,1155,1143.0435" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="747.8955" y2="771.751"/><polygon fill="#A80036" points="1151,761.751,1155,771.751,1159,761.751,1155,765.751" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="1383.4341" y2="1407.8364"/><polygon fill="#A80036" points="1151,1397.8364,1155,1407.8364,1159,1397.8364,1155,1401.8364" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1251" x2="1528.5" y1="1371.4341" y2="1371.4341"/><polygon fill="#A80036" points="1524.5,1414.8208,1528.5,1424.8208,1532.5,1414.8208,1528.5,1418.8208" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1528.5" x2="1528.5" y1="1371.4341" y2="1478.0942"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1528.5" x2="1167" y1="1478.0942" y2="1478.0942"/><polygon fill="#A80036" points="1177,1474.0942,1167,1478.0942,1177,1482.0942,1173,1478.0942" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="1441.8052" y2="1466.0942"/><polygon fill="#A80036" points="1151,1456.0942,1155,1466.0942,1159,1456.0942,1155,1460.0942" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="1322.6294" y2="1359.4341"/><polygon fill="#A80036" points="1151,1349.4341,1155,1359.4341,1159,1349.4341,1155,1353.4341" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="1490.0942" y2="1500.0942"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1552.5" y1="1500.0942" y2="1500.0942"/><polygon fill="#A80036" points="1548.5,1416.4185,1552.5,1406.4185,1556.5,1416.4185,1552.5,1412.4185" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1552.5" x2="1552.5" y1="1310.6294" y2="1500.0942"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1552.5" x2="1256" y1="1310.6294" y2="1310.6294"/><polygon fill="#A80036" points="1266,1306.6294,1256,1310.6294,1266,1314.6294,1262,1310.6294" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1054" x2="1042" y1="1310.6294" y2="1310.6294"/><polygon fill="#A80036" points="1038,1402.4185,1042,1412.4185,1046,1402.4185,1042,1406.4185" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1042" x2="1042" y1="1310.6294" y2="1512.0942"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1042" x2="1155" y1="1512.0942" y2="1512.0942"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="1512.0942" y2="1532.0942"/><polygon fill="#A80036" points="1151,1522.0942,1155,1532.0942,1159,1522.0942,1155,1526.0942" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="1274.3403" y2="1298.6294"/><polygon fill="#A80036" points="1151,1288.6294,1155,1298.6294,1159,1288.6294,1155,1292.6294" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="492" x2="492" y1="615.6836" y2="662.7822"/><polygon fill="#A80036" points="488,652.7822,492,662.7822,496,652.7822,492,656.7822" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1155" x2="1155" y1="615.6836" y2="727.8955"/><polygon fill="#A80036" points="1151,717.8955,1155,727.8955,1159,717.8955,1155,721.8955" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="800.25" x2="800.25" y1="591.1836" y2="609.6836"/><polygon fill="#A80036" points="796.25,599.6836,800.25,609.6836,804.25,599.6836,800.25,603.6836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="800.25" x2="800.25" y1="1644.0942" y2="1664.0942"/><polygon fill="#A80036" points="796.25,1654.0942,800.25,1664.0942,804.25,1654.0942,800.25,1658.0942" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
start

:Read <b>config.kafka</b> file;
note right
    Reads all producer and consumer 
    configuration entries.
    <b>kafkaResources::readSection()</b>
end note   
:kafkaHWService::start() ;
split
    if(Producer config available?) then (yes)
        :Start Kafka Producer
        + set callbacks;
        (P)
        note left
            <b>kafkaProducerFacade</b>
        end note
        :start AsynchronousTask for polling
        <b>kafkaHWService::doPoll()</b>
        This will trigger producer statistics;
        :start AsynchronousTask for stream debouncing
        <b>kafkaHWService::doStream()</b>;
    else (no)    
    endif

split again
    :For each topic addressed in the driver
    launch a consumer thread (+callbacks);
    note left
        <b>kafkaHWService::
        <b>handleNewConsumerTopic()
    end note
    fork
        :Consumer 1;
        (C)
        detach
    fork again
        :Consumer 2;
        (C)
        detach
    fork again 
        -[#black,dotted]->
        :Consumer N;
        -[#black,dotted]->
        (C)
        note right
            <b>kafkaConsumerFacade</b>
        end note    
        detach
    end fork

    split again 
    :callback for new consumer threads
    whenever a new topic is addressed;
    (C)
    note left
        kafkaHWMapper::
        <b>setNewConsumerTopicCallback()</b>
    end note
    detach

end split


fork
    partition kafkaHWService::writeData() {
        start
        :Decode HWObject from WinCC;
        if(object is Kafka stream) then 
            if(debouncing timeframe > 0?) then (yes, it's bigger than 0)
                :add stream to <b>_streamMap</b>;
                fork 
                   partition <AsyncTask>kafkaHWService::doStream() {
                        start
                        while (_streamMap entries to process?) is (yes)
                        :retrieve entry;
                        if(debouncing timeframe is over for entry?) then (yes)
                            :remove entry from _streamMap
                            and stream to kafka;
                            (P)
                        else (no)
                            :skip entry;    
                        endif
                        endwhile(no)
                        stop
                   }
                end fork
            else (no)    
                ->no, stream to kafka;
                (P)
            endif;
        else if(object is Config item) then
            :Apply config;
        endif
        stop
    }
fork again 
    partition ConsumerThread{
        start
        while(_consumerRun?) is (yes)
            (C)
            note right 
                <b>kafkaConsumerFacade.poll()</b>
            end note
            while (polled messages to process?) is (yes)
                :<b>kafkaHWService::
                <b>handleConsumeNewMessage</b>;
                :add DPE to <b>_toDPqueue</b>;
                note right
                    <b>kafkaHWService::insertInDataToDP</b>
                end note
            endwhile (no)   
        endwhile (no)
        stop
    }
    partition kafkaHWService::workProc() {
        start
        while (<b>_toDPqueue</b> items to process?) is (yes)
            if (item addressed in the driver?) then (yes)
                :push DPE entry to WinCC;
                note right
                    <b>DrvManager::getSelfPtr()->toDp</b>
                end note
            endif
        endwhile (no)  
        stop
    }
    
end fork


end
@enduml

PlantUML version 1.2019.03(Sun Mar 10 12:04:44 CET 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_201-b09
Operating System: Linux
OS Version: 3.10.0-957.10.1.el7.x86_64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>